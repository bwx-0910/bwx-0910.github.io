# âš ï¸ é‡è¦ï¼šæ··åˆä½¿ç”¨æœ¬åœ°å’Œåœ¨çº¿ç¼–è¾‘

## ğŸ¯ ä½ é‡åˆ°çš„é—®é¢˜

å½“ä½ **æ··åˆä½¿ç”¨**æœ¬åœ°ç¼–è¾‘å’Œåœ¨çº¿ç¼–è¾‘æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜ï¼š

```
åœºæ™¯ï¼š
1. ä½ åœ¨ admin.html æ·»åŠ äº†æ–°ç¬”è®° â†’ ä¿å­˜åˆ° GitHub âœ…
2. æœ¬åœ°è¿è¡Œ build.bat â†’ åŸºäºæœ¬åœ°çš„ notes æ–‡ä»¶å¤¹ï¼ˆæ²¡æœ‰æ–°ç¬”è®°ï¼‰
3. è¿è¡Œ deploy.bat â†’ æ¨é€æ—§çš„ data.js åˆ° GitHub
4. ç»“æœï¼šæ–°ç¬”è®°ä¸è§äº†ï¼ğŸ˜±
```

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨åŒæ­¥è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰â­

æˆ‘ä¸ºä½ åˆ›å»ºäº† `sync-and-publish.bat`ï¼Œå®ƒä¼šï¼š

```
1. ä» GitHub æ‹‰å–æœ€æ–°ç¬”è®°
2. æ„å»º data.js
3. éƒ¨ç½²åˆ° GitHub
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
cd D:\wangye\blog
sync-and-publish.bat
```

### æ–¹æ¡ˆ 2ï¼šæ‰‹åŠ¨åŒæ­¥

```bash
cd D:\wangye\blog

# 1. æ‹‰å–æœ€æ–°å†…å®¹
git fetch origin main
git merge origin/main

# 2. æ„å»º
build.bat

# 3. éƒ¨ç½²
deploy.bat
```

### æ–¹æ¡ˆ 3ï¼šåªç”¨ä¸€ç§æ–¹å¼

**é€‰æ‹© Aï¼šåªç”¨åœ¨çº¿ç¼–è¾‘**
- âœ… æ‰€æœ‰æ“ä½œéƒ½åœ¨ admin.html å®Œæˆ
- âœ… ä¸éœ€è¦æœ¬åœ°æ“ä½œ
- âŒ ä½† admin.html ä¸ä¼šè‡ªåŠ¨æ›´æ–° data.js

**é€‰æ‹© Bï¼šåªç”¨æœ¬åœ°ç¼–è¾‘**
- âœ… ç¼–è¾‘ notes/*.md
- âœ… è¿è¡Œ publish.bat
- âœ… å®Œå…¨æŒæ§

## ğŸ”§ ç«‹å³ä¿®å¤ä½ çš„é—®é¢˜

### æ­¥éª¤ 1ï¼šå…ˆæ‹‰å–æœ€æ–°å†…å®¹

```bash
cd D:\wangye\blog

# å¦‚æœè¿˜æ²¡åˆå§‹åŒ– Git
git init
git remote add origin git@github.com:bwx-0910/bwx-0910.github.io.git

# æ‹‰å–æœ€æ–°å†…å®¹
git fetch origin main
git merge origin/main --allow-unrelated-histories
```

### æ­¥éª¤ 2ï¼šæŸ¥çœ‹ notes æ–‡ä»¶å¤¹

```bash
dir notes
```

ç°åœ¨åº”è¯¥èƒ½çœ‹åˆ°ä½ åœ¨ admin.html æ·»åŠ çš„ç¬”è®°æ–‡ä»¶äº†ï¼

### æ­¥éª¤ 3ï¼šé‡æ–°æ„å»ºå’Œéƒ¨ç½²

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨æ–°è„šæœ¬
sync-and-publish.bat

# æ–¹æ³• 2ï¼šæ‰‹åŠ¨
build.bat
deploy.bat
```

## ğŸ“‹ æ¨èçš„å·¥ä½œæµç¨‹

### ğŸŒŸ æ¨èï¼šçº¯åœ¨çº¿ç¼–è¾‘

```
1. ç”¨ admin.html æ·»åŠ /ç¼–è¾‘ç¬”è®°
2. å®Œæˆï¼ï¼ˆè‡ªåŠ¨ä¿å­˜åˆ° GitHubï¼‰
```

**ä¼˜ç‚¹**ï¼š
- âœ… æœ€ç®€å•
- âœ… éšæ—¶éšåœ°
- âœ… ä¸éœ€è¦æœ¬åœ°æ“ä½œ

**æ³¨æ„**ï¼š
- âš ï¸ ä¿®æ”¹å data.js ä¸ä¼šè‡ªåŠ¨æ›´æ–°
- è§£å†³ï¼šå®šæœŸè¿è¡Œä¸€æ¬¡ `sync-and-publish.bat`

### ğŸ”„ æ··åˆä½¿ç”¨ï¼ˆéœ€è¦æ³¨æ„ï¼‰

å¦‚æœä½ ç¡®å®éœ€è¦æ··åˆä½¿ç”¨ï¼š

```
æœ¬åœ°ä¿®æ”¹
  â†“
ç¡®ä¿å…ˆæ‹‰å–: git pull
  â†“
build.bat
  â†“
deploy.bat

åœ¨çº¿ä¿®æ”¹
  â†“
åœ¨ admin.html æ“ä½œ
  â†“
å®šæœŸè¿è¡Œ: sync-and-publish.bat
```

## ğŸ’¡ ç†è§£åŸç†

### admin.html åšäº†ä»€ä¹ˆ

```
ä½ åœ¨ admin.html ä¿å­˜ç¬”è®°
  â†“
ç›´æ¥é€šè¿‡ GitHub API ä¿å­˜åˆ°ä»“åº“
  â†“
GitHub: notes/æ–°ç¬”è®°.md âœ…
  â†“
ä½†æ˜¯ data.js æ²¡æœ‰æ›´æ–°ï¼âŒ
```

### build.bat åšäº†ä»€ä¹ˆ

```
æ‰«ææœ¬åœ° notes/ æ–‡ä»¶å¤¹
  â†“
è½¬æ¢ä¸º data.js
  â†“
å¦‚æœæœ¬åœ° notes/ æ²¡æœ‰æœ€æ–°æ–‡ä»¶
  â†“
ç”Ÿæˆçš„ data.js å°±æ˜¯æ—§çš„ï¼
```

### æ‰€ä»¥éœ€è¦å…ˆåŒæ­¥

```
git pullï¼ˆæ‹‰å–æœ€æ–°çš„ notes/*.mdï¼‰
  â†“
build.batï¼ˆåŸºäºæœ€æ–°æ–‡ä»¶ç”Ÿæˆ data.jsï¼‰
  â†“
deploy.batï¼ˆæ¨é€å®Œæ•´çš„å†…å®¹ï¼‰
```

## ğŸ¯ ç°åœ¨æ€ä¹ˆåŠ

### ç«‹å³æ‰§è¡Œ

```bash
cd D:\wangye\blog

# ä½¿ç”¨æ–°è„šæœ¬ï¼ˆæ¨èï¼‰
sync-and-publish.bat
```

è¿™ä¼šï¼š
1. âœ… æ‹‰å–ä½ åœ¨ admin.html æ·»åŠ çš„ç¬”è®°
2. âœ… é‡æ–°æ„å»º data.js
3. âœ… éƒ¨ç½²å®Œæ•´çš„å†…å®¹
4. âœ… ä½ çš„ç¬”è®°å°±å›æ¥äº†ï¼

### ä»¥åè¦æ³¨æ„

**å¦‚æœç”¨äº† admin.html æ·»åŠ ç¬”è®°**ï¼š
- ä¸è¦ç›´æ¥è¿è¡Œ `build.bat` + `deploy.bat`
- åº”è¯¥è¿è¡Œ `sync-and-publish.bat`

**æˆ–è€…**ï¼š
- å®Œå…¨ç”¨ admin.htmlï¼ˆæ¨èï¼‰
- å®Œå…¨ç”¨æœ¬åœ°ç¼–è¾‘

## ğŸ“ è„šæœ¬å¯¹æ¯”

| è„šæœ¬ | ç”¨é€” | ä»€ä¹ˆæ—¶å€™ç”¨ |
|------|------|-----------|
| `add-note.bat` | ç”Ÿæˆç¬”è®°æ¨¡æ¿ | æœ¬åœ°æ–°å»ºç¬”è®° |
| `build.bat` | æ„å»º data.js | æœ¬åœ°ä¿®æ”¹å |
| `deploy.bat` | éƒ¨ç½²åˆ° GitHub | æ„å»ºå |
| `publish.bat` | æ„å»º+éƒ¨ç½² | æœ¬åœ°ä¿®æ”¹åä¸€é”®å‘å¸ƒ |
| `sync-and-publish.bat` | åŒæ­¥+æ„å»º+éƒ¨ç½² | æ··åˆä½¿ç”¨æ—¶ â­ |

## âœ… æ£€æŸ¥æ¸…å•

è¿è¡Œ `sync-and-publish.bat` åï¼š

- [ ] ç­‰å¾… 2 åˆ†é’Ÿ
- [ ] è®¿é—® https://bwx-0910.github.io
- [ ] æŒ‰ Ctrl + F5 å¼ºåˆ¶åˆ·æ–°
- [ ] æ£€æŸ¥æ‰€æœ‰ç¬”è®°æ˜¯å¦éƒ½åœ¨

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå‘Šè¯‰æˆ‘ï¼

## ğŸŠ æœªæ¥å»ºè®®

### é€‰æ‹©ä½ çš„é£æ ¼

**é£æ ¼ Aï¼šæç®€æ´¾ï¼ˆæ¨èï¼‰**
```
åªç”¨ admin.html
â†’ éšæ—¶éšåœ°ç¼–è¾‘
â†’ å®šæœŸè¿è¡Œ sync-and-publish.bat
```

**é£æ ¼ Bï¼šæœ¬åœ°æ´¾**
```
åªç”¨æœ¬åœ°ç¼–è¾‘
â†’ ç¼–è¾‘ notes/*.md
â†’ è¿è¡Œ publish.bat
```

**é£æ ¼ Cï¼šæ··åˆæ´¾ï¼ˆéœ€è¦å°å¿ƒï¼‰**
```
ä¸¤ç§æ–¹å¼éƒ½ç”¨
â†’ æ¯æ¬¡æœ¬åœ°æ“ä½œå‰å…ˆ git pull
â†’ æˆ–ä½¿ç”¨ sync-and-publish.bat
```

---

**ç«‹å³è¿è¡Œ `sync-and-publish.bat` æ‰¾å›ä½ çš„ç¬”è®°ï¼** ğŸš€
